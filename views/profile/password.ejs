<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
		<link rel="stylesheet" href="css/tailwind.css" />
		<title>GlobeQuiz - Password & Security</title>
	</head>
	<body class="bg-gray-50">
		<%- include('../partials/header') %>

		<div class="container mx-auto px-4 py-8">
			<!-- Header -->
			<div class="mb-8">
				<a
					href="/profile"
					class="text-blue-600 hover:text-blue-700 font-semibold flex items-center gap-2 mb-4"
				>
					<svg
						class="w-5 h-5"
						fill="none"
						stroke="currentColor"
						viewBox="0 0 24 24"
					>
						<path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M15 19l-7-7 7-7"
						></path>
					</svg>
					Back to Profile
				</a>
				<h1 class="text-4xl font-bold text-gray-800 mb-2">
					Password & Security
				</h1>
				<p class="text-gray-600">
					Manage your password and security settings
				</p>
			</div>

			<div class="grid md:grid-cols-4 gap-8">
				<!-- Sidebar -->
				<div class="md:col-span-1">
					<div class="bg-white rounded-xl shadow p-6 sticky top-8">
						<h3 class="text-lg font-bold text-gray-800 mb-4">
							Settings Menu
						</h3>

						<div class="space-y-2">
							<a
								href="/profile/settings"
								class="block p-3 rounded-lg hover:bg-gray-100 text-gray-700 font-semibold transition-colors"
							>
								<svg
									class="w-5 h-5 inline mr-2"
									fill="currentColor"
									viewBox="0 0 20 20"
								>
									<path
										d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"
									></path>
								</svg>
								Account Settings
							</a>
							<a
								href="/profile/preferences"
								class="block p-3 rounded-lg hover:bg-gray-100 text-gray-700 font-semibold transition-colors"
							>
								<svg
									class="w-5 h-5 inline mr-2"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"
									></path>
								</svg>
								Preferences
							</a>
							<a
								href="/profile/password"
								class="block p-3 rounded-lg bg-blue-50 border-l-4 border-blue-600 text-blue-600 font-semibold"
							>
								<svg
									class="w-5 h-5 inline mr-2"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
									></path>
								</svg>
								Password & Security
							</a>
							<a
								href="/profile/notifications"
								class="block p-3 rounded-lg hover:bg-gray-100 text-gray-700 font-semibold transition-colors"
							>
								<svg
									class="w-5 h-5 inline mr-2"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"
									></path>
								</svg>
								Notifications
							</a>
						</div>
					</div>
				</div>

				<!-- Main Content -->
				<div class="md:col-span-3">
					<!-- Change Password -->
					<div class="bg-white rounded-xl shadow p-8 mb-8">
						<h2
							class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2"
						>
							<svg
								class="w-6 h-6 text-blue-600"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"
								></path>
							</svg>
							Change Password
						</h2>

						<form class="space-y-6">
							<div>
								<label
									for="currentPassword"
									class="block text-sm font-semibold text-gray-700 mb-2"
									>Current Password</label
								>
								<input
									type="password"
									id="currentPassword"
									name="currentPassword"
									class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
									placeholder="Enter current password"
								/>
							</div>

							<div>
								<label
									for="newPassword"
									class="block text-sm font-semibold text-gray-700 mb-2"
									>New Password</label
								>
								<input
									type="password"
									id="newPassword"
									name="newPassword"
									class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
									placeholder="Enter new password"
								/>
								<p class="text-xs text-gray-500 mt-1">
									Must be at least 8 characters with
									uppercase, lowercase, and numbers
								</p>
							</div>

							<div>
								<label
									for="confirmPassword"
									class="block text-sm font-semibold text-gray-700 mb-2"
									>Confirm New Password</label
								>
								<input
									type="password"
									id="confirmPassword"
									name="confirmPassword"
									class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
									placeholder="Confirm new password"
								/>
							</div>

							<button
								type="submit"
								class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors flex items-center justify-center gap-2"
							>
								<svg
									class="w-5 h-5"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M5 13l4 4L19 7"
									></path>
								</svg>
								Update Password
							</button>
						</form>
					</div>

					<!-- Two-Factor Authentication -->
					<div class="bg-white rounded-xl shadow p-8 mb-8">
						<h2
							class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2"
						>
							<svg
								class="w-6 h-6 text-blue-600"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
								></path>
							</svg>
							Two-Factor Authentication
						</h2>

						<div
							class="flex items-center justify-between p-4 border border-gray-200 rounded-lg mb-4"
						>
							<div class="flex-1">
								<p class="font-semibold text-gray-800">
									Enable 2FA
								</p>
								<p class="text-sm text-gray-500">
									Add an extra layer of security to your
									account
								</p>
							</div>
							<label
								class="relative inline-flex items-center cursor-pointer"
							>
								<input type="checkbox" class="sr-only peer" />
								<div
									class="w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"
								></div>
							</label>
						</div>

						<div
							class="bg-gray-50 border border-gray-200 rounded-lg p-4"
						>
							<p class="text-sm text-gray-600">
								<span class="font-semibold">Status:</span>
								Two-factor authentication is currently
								<span class="text-red-600 font-semibold"
									>disabled</span
								>
							</p>
							<p class="text-sm text-gray-600 mt-2">
								Enable 2FA to receive a verification code on
								your phone in addition to your password when
								logging in.
							</p>
						</div>
					</div>

					<!-- Active Sessions -->
					<div class="bg-white rounded-xl shadow p-8 mb-8">
						<h2
							class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2"
						>
							<svg
								class="w-6 h-6 text-blue-600"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
								></path>
							</svg>
							Active Sessions
						</h2>

						<p class="text-gray-600 mb-6">
							Manage and monitor where you're logged in
						</p>

						<div class="space-y-4">
							<!-- Current Session -->
							<div
								class="flex items-center justify-between p-4 border-2 border-blue-200 bg-blue-50 rounded-lg"
							>
								<div class="flex items-center gap-4">
									<div
										class="w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0"
									>
										<svg
											class="w-6 h-6 text-white"
											fill="none"
											stroke="currentColor"
											viewBox="0 0 24 24"
										>
											<path
												stroke-linecap="round"
												stroke-linejoin="round"
												stroke-width="2"
												d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
											></path>
										</svg>
									</div>
									<div>
										<p class="font-semibold text-gray-800">
											Windows PC • Chrome
										</p>
										<p class="text-sm text-gray-600">
											Brussels, Belgium • Current session
										</p>
										<p class="text-xs text-gray-500">
											Last active: Just now
										</p>
									</div>
								</div>
								<span
									class="bg-blue-600 text-white text-xs font-semibold px-3 py-1 rounded-full"
									>Active</span
								>
							</div>

							<!-- Other Session 1 -->
							<div
								class="flex items-center justify-between p-4 border border-gray-200 rounded-lg"
							>
								<div class="flex items-center gap-4">
									<div
										class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0"
									>
										<svg
											class="w-6 h-6 text-gray-600"
											fill="none"
											stroke="currentColor"
											viewBox="0 0 24 24"
										>
											<path
												stroke-linecap="round"
												stroke-linejoin="round"
												stroke-width="2"
												d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"
											></path>
										</svg>
									</div>
									<div>
										<p class="font-semibold text-gray-800">
											iPhone 14 • Safari
										</p>
										<p class="text-sm text-gray-600">
											Brussels, Belgium
										</p>
										<p class="text-xs text-gray-500">
											Last active: 2 hours ago
										</p>
									</div>
								</div>
								<button
									class="text-red-600 hover:text-red-700 font-semibold px-4 py-2 rounded-lg hover:bg-red-50 transition-colors"
								>
									Revoke
								</button>
							</div>

							<!-- Other Session 2 -->
							<div
								class="flex items-center justify-between p-4 border border-gray-200 rounded-lg"
							>
								<div class="flex items-center gap-4">
									<div
										class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0"
									>
										<svg
											class="w-6 h-6 text-gray-600"
											fill="none"
											stroke="currentColor"
											viewBox="0 0 24 24"
										>
											<path
												stroke-linecap="round"
												stroke-linejoin="round"
												stroke-width="2"
												d="M12 18h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"
											></path>
										</svg>
									</div>
									<div>
										<p class="font-semibold text-gray-800">
											iPad Pro • Safari
										</p>
										<p class="text-sm text-gray-600">
											Brussels, Belgium
										</p>
										<p class="text-xs text-gray-500">
											Last active: 1 day ago
										</p>
									</div>
								</div>
								<button
									class="text-red-600 hover:text-red-700 font-semibold px-4 py-2 rounded-lg hover:bg-red-50 transition-colors"
								>
									Revoke
								</button>
							</div>
						</div>

						<button
							class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-lg transition-colors mt-6"
						>
							Revoke All Other Sessions
						</button>
					</div>

					<!-- Connected Apps -->
					<div class="bg-white rounded-xl shadow p-8">
						<h2
							class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2"
						>
							<svg
								class="w-6 h-6 text-blue-600"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"
								></path>
							</svg>
							Connected Apps
						</h2>

						<p class="text-gray-600 mb-6">
							Apps that have access to your account
						</p>

						<div class="space-y-4">
							<!-- Connected App 1 -->
							<div
								class="flex items-center justify-between p-4 border border-gray-200 rounded-lg"
							>
								<div class="flex items-center gap-4">
									<div
										class="w-12 h-12 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center flex-shrink-0"
									>
										<span
											class="text-white font-bold text-xl"
											>G</span
										>
									</div>
									<div>
										<p class="font-semibold text-gray-800">
											Google OAuth
										</p>
										<p class="text-sm text-gray-600">
											Connected on <%= new
											Date().toLocaleDateString() %>
										</p>
										<p class="text-xs text-gray-500">
											Email: <%= user?.email %>
										</p>
									</div>
								</div>
								<button
									class="text-red-600 hover:text-red-700 font-semibold px-4 py-2 rounded-lg hover:bg-red-50 transition-colors"
								>
									Disconnect
								</button>
							</div>
						</div>

						<div
							class="bg-gray-50 border border-gray-200 rounded-lg p-4 mt-6"
						>
							<p class="text-sm text-gray-600">
								<svg
									class="w-4 h-4 inline mr-1 text-blue-600"
									fill="currentColor"
									viewBox="0 0 20 20"
								>
									<path
										fill-rule="evenodd"
										d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
										clip-rule="evenodd"
									></path>
								</svg>
								Disconnecting apps may prevent you from logging
								in with those accounts.
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<%- include('../partials/footer') %>
	</body>
</html>
